##############################################
# LOCAL DEVELOPMENT (defaults)
##############################################
# Server
PORT=4000
NODE_ENV=development
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:19006

# Optional version string exposed on /health-plus
APP_VERSION=0.8.0

# Logging
LOG_LEVEL=info
DB_SLOW_QUERY_MS=500

# Database (local dev + tests)
DATABASE_URL=postgres://postgres:postgres@localhost:5432/greenbro_dev
TEST_DATABASE_URL=postgres://postgres:postgres@localhost:5432/greenbro_test
ALLOW_TEST_DB_RESET=true
STAGING_DATABASE_URL=

# File storage (dev/local)
FILE_STORAGE_ROOT=./storage
FILE_STORAGE_BASE_URL=http://localhost:4000/files
FILE_SIGNING_SECRET=
FILE_SIGNED_URL_TTL_MINUTES=60
AV_SCANNER_ENABLED=false
AV_SCANNER_CMD=clamscan --no-summary
AV_SCANNER_HOST=
AV_SCANNER_PORT=

# Auth
JWT_SECRET=replace-with-a-long-random-string
REFRESH_TOKEN_DAYS=30
AUTH_MAX_ATTEMPTS=5
AUTH_WINDOW_MINUTES=15
AUTH_LOCKOUT_MINUTES=15
AUTH_ALLOW_PUBLIC_SIGNUP=false
PASSWORD_RESET_TOKEN_MINUTES=30
AUTH_2FA_ENABLED=false
AUTH_2FA_ENFORCE_ROLES=owner,admin
AUTH_2FA_ISSUER=Greenbro
DEMO_USER_PASSWORD=

# MQTT telemetry ingest (leave empty for UI-only testing)
MQTT_URL=
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_DISABLED=false

# Alerts worker thresholds
ALERT_OFFLINE_MINUTES=10
ALERT_OFFLINE_CRITICAL_MINUTES=60
ALERT_HIGH_TEMP_THRESHOLD=60
ALERT_RULE_REFRESH_MINUTES=5
ALERT_WORKER_INTERVAL_SEC=60
ALERT_WORKER_ENABLED=true
WORKER_LOCK_TTL_SEC=60

# Control/commands HTTP endpoint (optional; leave empty locally)
CONTROL_API_URL=
CONTROL_API_KEY=
CONTROL_API_DISABLED=false
CONTROL_COMMAND_THROTTLE_MS=5000

# External heat pump history API (optional; leave empty locally)
HEATPUMP_HISTORY_URL=
HEATPUMP_HISTORY_API_KEY=
HEATPUMP_HISTORY_TIMEOUT_MS=10000
HEATPUMP_HISTORY_MAX_RANGE_HOURS=24
HEATPUMP_HISTORY_PAGE_HOURS=6
HEATPUMP_HISTORY_DISABLED=false

# Expo push integration
EXPO_ACCESS_TOKEN=
PUSH_NOTIFICATIONS_ENABLED_ROLES=owner,admin,facilities
PUSH_NOTIFICATIONS_DISABLED=false
PUSH_HEALTHCHECK_ENABLED=false
PUSH_HEALTHCHECK_TOKEN=
PUSH_HEALTHCHECK_INTERVAL_MINUTES=30
HEALTH_BASE_URL=

##############################################
# STAGING TEMPLATE (placeholder values only; copy into staging secret store)
##############################################
NODE_ENV=production
APP_VERSION=0.8.0
PORT=4000
CORS_ALLOWED_ORIGINS=https://staging.greenbro.co.za,https://staging-app.greenbro.co.za
DATABASE_URL=postgres://<host>:5432/greenbro_staging
JWT_SECRET=replace-with-long-random-string
REFRESH_TOKEN_DAYS=30
AUTH_ALLOW_PUBLIC_SIGNUP=false
AUTH_2FA_ENABLED=true
AUTH_2FA_ENFORCE_ROLES=owner,admin
AUTH_2FA_ISSUER=Greenbro
FILE_STORAGE_ROOT=/var/lib/greenbro/storage
FILE_STORAGE_BASE_URL=https://staging-api.greenbro.co.za/files
FILE_SIGNING_SECRET=replace-with-long-random-string
FILE_SIGNED_URL_TTL_MINUTES=60
AV_SCANNER_ENABLED=true
AV_SCANNER_CMD=
AV_SCANNER_HOST=clamd
AV_SCANNER_PORT=3310
MQTT_URL=mqtts://staging-broker:8883
MQTT_USERNAME=<mqtt-user>
MQTT_PASSWORD=<mqtt-password>
MQTT_DISABLED=false
CONTROL_API_URL=https://control.staging.greenbro.co.za
CONTROL_API_KEY=<control-api-key>
CONTROL_API_DISABLED=false
CONTROL_COMMAND_THROTTLE_MS=5000
HEATPUMP_HISTORY_URL=https://staging-heatpump.example
HEATPUMP_HISTORY_API_KEY=<heatpump-api-key>
HEATPUMP_HISTORY_TIMEOUT_MS=10000
HEATPUMP_HISTORY_MAX_RANGE_HOURS=24
HEATPUMP_HISTORY_PAGE_HOURS=6
HEATPUMP_HISTORY_DISABLED=false
EXPO_ACCESS_TOKEN=<staging-expo-token>
PUSH_NOTIFICATIONS_ENABLED_ROLES=owner,admin,facilities
PUSH_NOTIFICATIONS_DISABLED=false
PUSH_HEALTHCHECK_ENABLED=false
PUSH_HEALTHCHECK_TOKEN=
PUSH_HEALTHCHECK_INTERVAL_MINUTES=30
HEALTH_BASE_URL=https://staging-api.greenbro.co.za
WORKER_LOCK_TTL_SEC=60
DEMO_USER_PASSWORD=
DB_SLOW_QUERY_MS=500
LOG_LEVEL=info
ALERT_WORKER_ENABLED=true
AUTH_MAX_ATTEMPTS=5
AUTH_WINDOW_MINUTES=15
AUTH_LOCKOUT_MINUTES=15
PASSWORD_RESET_TOKEN_MINUTES=30

##############################################
# PRODUCTION TEMPLATE (placeholder values only; copy into production secret store)
##############################################
NODE_ENV=production
APP_VERSION=0.8.0
PORT=4000
CORS_ALLOWED_ORIGINS=https://app.greenbro.co.za,https://api.greenbro.co.za
DATABASE_URL=postgres://<host>:5432/greenbro_prod
JWT_SECRET=replace-with-unique-production-secret
REFRESH_TOKEN_DAYS=30
AUTH_ALLOW_PUBLIC_SIGNUP=false
AUTH_2FA_ENABLED=true
AUTH_2FA_ENFORCE_ROLES=owner,admin
AUTH_2FA_ISSUER=Greenbro
FILE_STORAGE_ROOT=/var/lib/greenbro/storage
FILE_STORAGE_BASE_URL=https://api.greenbro.co.za/files
FILE_SIGNING_SECRET=replace-with-unique-prod-signing-secret
FILE_SIGNED_URL_TTL_MINUTES=60
AV_SCANNER_ENABLED=true
AV_SCANNER_CMD=
AV_SCANNER_HOST=clamd
AV_SCANNER_PORT=3310
MQTT_URL=mqtts://mqtt.greenbro.co.za:8883
MQTT_USERNAME=<mqtt-user>
MQTT_PASSWORD=<mqtt-password>
MQTT_DISABLED=false
CONTROL_API_URL=https://control.greenbro.co.za
CONTROL_API_KEY=<control-api-key>
CONTROL_API_DISABLED=false
CONTROL_COMMAND_THROTTLE_MS=5000
HEATPUMP_HISTORY_URL=https://heatpump.greenbro.co.za
HEATPUMP_HISTORY_API_KEY=<heatpump-api-key>
HEATPUMP_HISTORY_TIMEOUT_MS=10000
HEATPUMP_HISTORY_MAX_RANGE_HOURS=24
HEATPUMP_HISTORY_PAGE_HOURS=6
HEATPUMP_HISTORY_DISABLED=false
EXPO_ACCESS_TOKEN=<production-expo-token>
PUSH_NOTIFICATIONS_ENABLED_ROLES=owner,admin,facilities
PUSH_NOTIFICATIONS_DISABLED=false
PUSH_HEALTHCHECK_ENABLED=true
PUSH_HEALTHCHECK_TOKEN=<push-health-token>
PUSH_HEALTHCHECK_INTERVAL_MINUTES=30
HEALTH_BASE_URL=https://api.greenbro.co.za
WORKER_LOCK_TTL_SEC=60
DEMO_USER_PASSWORD=
DB_SLOW_QUERY_MS=500
LOG_LEVEL=info
ALERT_WORKER_ENABLED=true
AUTH_MAX_ATTEMPTS=5
AUTH_WINDOW_MINUTES=15
AUTH_LOCKOUT_MINUTES=15
PASSWORD_RESET_TOKEN_MINUTES=30
